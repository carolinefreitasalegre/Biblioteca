@page "/home"
@attribute [Authorize]
@inject NavigationManager NavManager
@inject NotificationService NotificationService
@inject ILocalStorageService LocalStorage

    <RadzenRow class="rz-mb-5"> 
        <RadzenColumn SizeMD="12">
            <TipOfTheDay/>
        </RadzenColumn>
    </RadzenRow>

    <RadzenRow class="g-3 rz-mb-5"> 
        <RadzenColumn SizeMD="4">
            <MyCollectionCard />
        </RadzenColumn>
        <RadzenColumn SizeMD="4">
            <AddBookCard />
        </RadzenColumn>
        <RadzenColumn SizeMD="4">
            <SearchBooksCard />
        </RadzenColumn>
    </RadzenRow>

    <RadzenRow class="g-3">
        <RadzenColumn SizeMD="6">
            <EstatisticCard />
        </RadzenColumn>
        <RadzenColumn SizeMD="6">
            <RecentActivities />
        </RadzenColumn>
    </RadzenRow>




@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var msg = await LocalStorage.GetItemAsync<string>("welcome_message");
            if (!string.IsNullOrEmpty(msg))
            {
                NotificationService.Notify(new NotificationMessage
                {
                    Severity = NotificationSeverity.Success,
                    Summary = "Olá!",
                    Detail = msg,
                    Duration = 4000
                });
                await LocalStorage.RemoveItemAsync("welcome_message");
            }
        }
    }

}
    